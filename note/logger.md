一般来说，在多线程资源竞争的时候，在一个使用资源的线程里面(消费者)判断资源是否可用，如果不可用调用pthread_cond_wait，在另一个线程里面(生产者)如果判断资源可用，则调用pthread_cond_signal发送一个资源可用信号。

关于tm结构体https://blog.csdn.net/qq_27633421/article/details/75305511

## 阻塞队列
当队列为空时，从队列中获取元素的线程将会被挂起；当队列是满时，往队列里添加元素的线程将会挂起。