服务器主循环为每一个连接创建一个定时器，并对每个连接进行定时。另外，利用升序时间链表容器将所有定时器串联起来，若主循环接收到定时通知，则在链表中依次执行定时任务。

## 信号处理流程
- Linux下的信号采用异步处理机制，信号处理函数和当前的进程时两条不同的执行路线。具体的，当进程收到信号时，操作系统会中断进程当前的正常流程，转而进入信号处理函数执行操作，完成后再返回中断的地方继续执行。
- 为避免信号竞态现象发生，信号处理期间系统不会再次触发它。所以，为确保该信号不被屏蔽太久，信号处理函数需要尽可能快地执行完毕。
- 一般的信号处理函数需要处理该信号对应的逻辑，当该逻辑比较复杂时，信号处理函数执行时间过长，会导致信号屏蔽太久。这里的解决方案是，信号处理函数仅仅发送信号通知程序主循环，将信号对应的处理逻辑放在程序主循环中，由主循环执行信号对应的逻辑代码。

## 统一事件源
统一事件源，是指将信号事件与其他事件一样被处理。
具体的，信号处理函数使用管道将信号传递给主循环，信号处理函数往管道的写端写入信号值，主循环则从管道的读端读出信号值，使用I/O复用系统调用来监听管道读端的可读事件，这样信号事件与其他文件描述符都可以通过epoll来监测，从而实现统一处理。

## 信号处理机制

## 代码逻辑

### 信号通知逻辑
- 创建管道 其中管道写端写入信号值 管道读端通过I/O复用系统检测读事件
- 设置信号处理函数SIGALARM(时间到了出发)和SIGTERM(kill会出发，Ctrl+c)
  - 通过sigaction结构体和sigaction函数注册信号捕捉函数
  - 在结构体的handler参数设置信号处理函数，具体的从管道写端写入信号
- 利用I/O复用系统检测管道读端文件描述符的可读事件
- 信息值传递给主循环，主循环再根据接收到的信号执行目标信号对应的逻辑代码